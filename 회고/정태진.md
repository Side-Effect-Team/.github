# 주간 회고

<details>
	<summary>1주차: 230419 ~ 230430</summary>

### 😊Liked
framer-motion 을 사용하여 page transition 애니메이션을 구현해보았는데 처음 접해보는 라이브러리라 생소했지만 막상 구현하여 작동되는걸보니 신기하고 재밌었습니다!

### 😓Lacked
이전페이지와 다음페이지를 비교하여 페이지가 슬라이드처럼 왼쪽 오른쪽으로 이동해야하는데 이전페이지의 url값과 다음페이지의url 값을 비교하여 방향을 정하는 로직을 구현하는것이 어려웠습니다.

</details>
<br />
<details>
	<summary>2주차: 230501 ~ 230507</summary>

### 📖Learned
- 첫번째로 리액트쿼리로 인피니티스크롤 구현을 아주 간단하고 손쉽게 구현해보았다. 리액트쿼리의 useInfinityQuery 훅을통해 pageParam으로 size 값만 백엔드에 전달해주면 이를통해 내가 원하는 갯수만큼의 데이터를 불러올수있었다.
- 두번째 배운것은 모달을 여러개 띄우는법을 배웠다. 우리프로젝트에서는 리덕스로 모달을 관리하는데 디스패치 를통해 액션으로 넘어온 모달타입을 스토어에 저장한후 모달을 관리하는 컴포넌트에서 스토어의 모달타입을 비교하여 하나의 모달만 렌더링해주고있다. 이 방법은 하나의 모달만 띄울수있다. 모달을 여러개띄우는방법은 배열을통해 모달타입들을 배열에 넣어주고 배열로 모달들을 유지시키는것이다. 배열로 모달을 관리하면 첫번째 모달,두번째,세번째 계속 모달을 띄울수있으며 모달을 제거할땐 배열에서 뒤에서부터 하나씩 제거해가면된다.

### 😊Liked
- 스타일컴포넌트의 ThemeProvider 를 사용하여 작업하는것이 좋았습니다. 컬러,버튼크기 등등 공통으로 사용하는것들을 미리 팀원과 정하고 사용하니 작업의 능률이 올라갔습니다.

### 😓Lacked
- 항상 타입스크립트를 잘쓰고있는가에 대해서 의문점이 든다. 타입지정을 하는건 이젠 어느정도 익숙해졌지만 조금더 유연하게 사용하고싶다.

### 🚀Longed for
- 개발은 기본기가 가장 중요한것같다. 타입스크립트 기본기와 자바스크립트 리액트 전부 기본기들을 한번 훑어봐야겠다.

</details>
<br />
<details>
	<summary>3주차: 230508 ~ 230514</summary>

### 📖Learned
- useQuery 의 select 옵션을 통하여 데이터를 커스텀하여 화면에 랜더링하였다. 데이터를 받아오는중에 커스텀하여 화면에 보여주고싶은대로 설정할수있다는게 무척이나 매력있었다.
- useMutation 의 콜백함수인 onSuccess,onError 를 사용하여 API요청 성공,에러 등을 아주 손쉽게 핸들링 할수 있었다.
- useQueryClient 를 이용하여 만약 API요청이 onSuccess 라면 자동으로 데이터페칭 함수를 재호출하여 화면을 최신화해주는 queryClient.invalidateQueries(queryKey) 를 사용했다.

### 😊Liked
- 프로젝트 팀원데이터를 받아오는 API를 사용했는데 내 생각대로 잘 되지않았다. 그래서 해당API를 담당하는 성현님과 계속 얘기하면서 어떤부분을 수정하면 좋을지 부탁하여 API를 수정하였는데 성현님이 나의 요청대로 잘 수정해주신 덕분에 생각대로 잘 작동됐다. 이 부분에서 협업과 의사소통이 얼마나 중요한지 깨닫게되어서 좋았다.

### 😓Lacked
- 프로젝트를 계속 진행하다보니 파일이 많아지고 파일이 많아지는 만큼 타입도 많아졌다. 그래서 한 파일에 타입이 엄청많거나 여기저기 중복되는 타입도 많았다... 타입관리에 대해서 부족함을 느꼈다.
- 또한 컴포넌트 하나에 무언가 기능,데이터,뷰 등등 집중적으로 모아져있는것같다. 컴포넌트 구조에대해서도 고민을 해야할것같다.

### 🚀Longed for
- 다른 유명한 타입스크립트+리액트 프로젝트를 보면서 폴더구조를 어떻게 했는지 파악해야겠다.

</details>
<br />
<details>
	<summary>4주차: 230515 ~ 230521</summary>

### 📖Learned
- 소셜로그인 로직을 구현하였다. 소셜로그인 로직은 소셜로그인을 성공하면 리다이렉트URL로 인가코드가 쿼리스트링으로 넘어온다. 이 인가코드를 백엔드로 넘겨주면 백엔드는 인가코드를 바탕으로 다시 소셜서버에 요청을보내 사용자정보를 받아온후 DB와 비교한다음 회원가입된 유저인지 아닌지 여부를 프론트에게 다시 내려준다. 구글로그인은 라이브러리가 있어 손쉽게 구현하였지만 카카오는 라이브러리가없었다. 그래서 처음엔 팝업창을 띄우고 백엔드에 인가코드를 보내면 팝업창이 자동으로 닫히게 하고싶었지만 생각대로 잘 되지않았고 약 하루정도 검색한결과 카카오SDK 를 설치하면 팝업이뜨고 인가코드를 받아오면 자동으로 닫히는 기능이있어 카카오SDK 를 사용하였다..! 개발은 개발실력도 중요하지만 문제를 해결하는능력도 중요한것같다!
- 리덕스를통해 액세스토큰 및 유저로그인유지 하는것을 이론적(?)으로 알게됐다. 현재 우리프로젝트 특성상 액세스토큰에 중요한정보는 없어서 로컬스토리지로 저장을 해도되지만 액세스토큰에 중요한정보가 들어있다고 가정하고 보안성을 높여서 관리해보고싶었다. 그래서 로그인이 성공적으로 된다면 액세스토큰과 유저가 로그인했다는 boolean값을 리덕스 스토어에 저장하고 전역상태로써 쓸수있게끔 리덕스 스토어는 구성해놨다. 리액트는 SPA 이기때문에 단순 페이지 이동시에는 리덕스 상태값이 증발되진 않는다.
- 그러나 새로고침을 하게된다면 모든상태값은 증발된다. 그래서 Layout.tsx 같은 전역 컴포넌트에 useEffect(()=>{리프레쉬토큰을통한 액세스토큰재발급 함수},[]) 이와 같은 로직을 추가할예정이다. 이부분은 백엔드에서 api를 만들어줘야하기때문에 기다리고있다!
	이러면 새로고침시에도 리프레쉬토큰을통해 다시 액세스토큰을 발급받고 스토어에 저장되기때문에 로그인이 유지될것같다.

### 😊Liked
- 리덕스툴킷을 정말 애용하고있다. 모달 관리 및 액세스토큰,로그인여부,토스트알림창 등등 전부 전역에서 사용되어지는 클라이언트측 상태들이다. 이번 프로젝트로 리덕스툴킷 사용을 좀더 다양하게 할수있어서 좋은것같다.


### 😓Lacked
- 현재 컴포넌트에 여러가지가 뭉쳐있다. 함수,비지니스로직 등등 한곳에 다 뭉쳐있기때문에 가독성이 많이떨어져 개선할 필요점이 있다.
	리액트쿼리,함수를 컴포넌트에서 때어내는것 등등 팀컨벤션적으로 한번더 상의해서 맞춰야할것같다.

### 🚀Longed for
1. 처음 나의 코드를 보는사람들도 한번에 코드가 이해되도록 쉽게 개선하기(선언형 프로그래밍)
2. Next.js 깊게 이해하기

</details>