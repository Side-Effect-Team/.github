# 주간 회고

<details>
	<summary>1주차: 230419 ~ 230430</summary>

### 📖Learned
- jpa에서 n:1 연관관계에서 부모(1)인 엔티티에서 자식을 orphanRemoval=true로 설정했지만 연관관계를 끊어도 삭제되지 않는다는 문제가 있었다. 블로그를 참고하거나 테스트 코드로 여러 상황을 실험했을 때 영속성 개념이 부족해서 생긴 문제라는 것을 알게되었다.

### 😊Liked
- 매일마다 코드에 대한 의견을 주고 받으면서 실력이 상승한다고 생각해서 좋았고 나도 몰랐던 새로운 개념을 알게되서 좋았다.

### 😓Lacked
- 스프링 시큐리티 코드에 관해서 이야기를 했지만 예전에 비해서 많이 까먹은 내용이 있다고 생각한다.
- 백엔드 팀원과 소통을 했을 때 배포에 대한 개념이 많이 부족함을 느꼇다.

### 🚀Longed for
- 코드 만 작성하지 말고 공부를 해야겠다.

</details>
<br />
<details>
	<summary>2주차: 230501 ~ 230507</summary>

### 📖Learned
- 랭킹 게시판 기능을 구현하는 데 가장 큰 어려움이 N + 1문제와 특정 시간 이후에 추천 수를 종합하여 랭킹을 매기는 것이다. 기존에 Spring data Jpa에서 jpql을 통해 추천 수를 통한 랭킹 게시판을 구현할 수 있지만 각 게시판의 추천 수를 구하기 위해서 지연 로딩으로 설정한 추천 엔티티들이 select 되면서 N + 1이 해결되지 못했다. 이를 해결하기 위해서 QueryDSL을 사용했다. QueryDSL은 근본적으로 jpql이기 때문에 페치 조인으로 페이징을 할 수 없다는 문제점이 있다. 하지만 Select 절의 각 속성값을 바로 조회하여 DTO에 넣도록 할 수 있었다. (하지만 이건 Data jpa에 제공하는 기능이다. 좀 더 공부해야겠다.) 또한 직접 쿼리문을 작성했을 때 잘못 작성하면 직접 런타임 시간에 테스트해야 했지만 QueryDSL은 컴파일 시점에 알려준다는 장점이 있었다.

### 😊Liked
- 배포에 대한 경험이 없어서 테스트 서버 배포에 큰 문제가 있을 거로 생각했지만, 큰 문제 없이 배포한 것을 다행이라고 느꼈고 이런 경험이 배포를 공부할 때 큰 도움이 될것이라 생각한다.
- Querydsl을 한번 사용해보고 싶었는데 직접 해보니 좋았고 기존에 사용한 Jpa보다 복잡한 쿼리를 작성하기 편한 것이 좋았다.

### 😓Lacked
- Querydsl을 공부를 하면서 Data jpa에서 할 수 없었다고 생각한 기능이 제공되는 것을 알고나서 아직 Data Jpa가 많이 부족함을 느꼇다.
- 배포를 했지만 소스코드 수정시 직접 EC2에서 실행을 중지하고 다시 빌드해서 실행해야하는 문제가 있었다.

### 🚀Longed for
- QueryDsl을 공부하면서 Data jpa도 같이 공부해야겠다.
- CI/CD 기술인 Jenkins와 컨테이너 기술인 Docker를 공부할 때가 되었다고 생각한다.

</details>
<br />
<details>
	<summary>3주차: 230508 ~ 230514</summary>

### 📖Learned
- 내가 맡은 역할이 아니었지만 중간에 서버를 배포하면서 Enum type을 Json으로 직렬화 하거나 역직렬화 했을 때 문제가 발생했었다. 이때 당시에 무었이 문제였는지 알지 못했지만 @JsonCreator를 생성자에 적용할 때 @JsonProperty를 지정해야 한다는 것을 몰랐다. 또한 1개의 파라미터를 가질 때 @jsoncreator(mode = jsoncreator.mode.delegating)을 설정하여 문제를 해결할 수 있다는 사실을 알았다. 이를 통해서 직렬화 역직렬화에 대한 개념에 대한 부족함을 느겼다.

- 스프링 시큐리티의 JWT 필터에서 User 객체가 영속성을 유지할 줄 알았지만 OSIV 인터셉터가 DelegatingFilterProxy가 끝난 이후에 적용되어 OSIV가 적용되지 않는 다는 것을 알았고 OSIV 인터셉터를 DelegatingFilterProxy이전에 배치하면 문제가 해결된다는 것을 알았다.


### 😊Liked
- 최신, 조회, 댓글 순으로 무한 스크롤을 구현하는 것을 쿼리가 매우 복잡해 진다고 생각이 들어 걱정이 들었지만 Querydsl로 동적 쿼리를 생성하여 입력된 정렬 타입에 따라 동적으로 쿼리문을 작성할 수 있어서 좋았다.

### 😓Lacked
- 스프링에 대해서 기본적인 개념 중에 부족한 것이 있다고 생각한다. 이렇게 진행하다가는 곧 진행하는 면접에 지장이 생길것이라 생각한다.
- Query Dsl로 필터(최신, 조회, 댓글 순)으로 정렬하는 기능을 구현했지만 중간에 성능상 문제가 있는지 확인하지 못했다.

### 🚀Longed for
- 앞으로 면접에 대비하기 위해서 스프링관련 공부를 보충해야겠다고 생각한다.

</details>