# 주간 회고

<details>
	<summary>1주차: 230419 ~ 230430</summary>

### 📖Learned
제일 많이 배운 것이라면 역시 spring security이다. 아예 지식이 없는 상태에서 시작해서 로그인하면 jwt이 나오는 것 까지 구현했다. 처음엔 이론적으로 이해를 한다음 적용해볼 생각이었지만 전혀 이해가 되지않아서 블로그나 유튜브에 있는 것들을 그대로 구현해보고 하나둘씩 내 스타일에 맞춰 바꿔갔다. 그리고 이제는 다시 이론적으로 익숙해져야 할 시간인 것 같다. 구현을 하며 흐름이 어떤지 어렴풋이 느껴봤으니 확실히 숙지하고 내 마음대로 커스텀할 정도의 이해를 갖춰야 한다고 생각한다. 물론 생각일뿐 몸은 지식이 들어오길 거부하고 있지만... 백수가 남는게 시간인데 하다보면 언젠간 되겠지 ㅎ

### 😊Liked
일단 프로젝트를 시작한 거의 첫 주를 경험하고 나서 좋았던 것은 코드를 짜고 진행하는 것에 있어서 긴장하면서 한다는 것이었다. 아는 사람들과 해온 프로젝트는 아무래도 긴장감이 떨어져 실수를 하던 기한을 못 맞추던 상관이 없다싶이 했는데, 이번 프로젝트는 긴장감을 갖는 것에 더해 이론으로만 알고 세세하게 하지않았던 것들(branch 하나만들어서 대충 push하는게 아니고 pull request 만들기, 각종 convention들 등..)을 신경쓰면서 했다. 이런 강제성?이 있어야 확실히 조금더 공부를 하게 되고(물론 지금도 많이 부족.. ㅠ) 대충 넘기려하지 않게되는 것 같다.

### 😓Lacked
security말고 해야할 부분이 기본적인 User Entity와 CRUD 구현이었는데 마음이 급한 나머지 둘을 병행했다. 순서상으로는 User부분만 먼저 순수하게 구현한 후 security를 덮어씌워야 했지만 그럴 여유가 없었다. 결과적으로 User Entity에 대한 pull request를 올릴 때 어려움을 겪었다. User에 관한 것만 올리려 했는데 service 등에서 security가 섞여있어 그것을 구분짓는 데에 추가적인 시간이 걸렸다. 이제부터라도 둘의 객관성을 유지하면서 개발하도록 신경을 써야겠다.

### 🚀Longed for
security를 새로 배우고 적용한 것은 분명히 좋은 경험이지만, 새로운 프레임워크를 배우기보다 기존에 아는 Spring과 JPA 지식으로 구현할 수 있는 기능을 개발하고 싶다. 물론 security의 지식을 잘 숙지하고 넘어가겠지만 실무에선 security를 안쓸수도 있을 것 같아서 빠르게 공부해서 넘어가고 다른 기능들에 손대보고 싶다.

</details>
<br />
<details>
	<summary>2주차: 230501 ~ 230507</summary>

### 📖Learned
- 기여한 것이 많이 없고 부족한 점이 있어도 전체적인 모양새가 갖춰지고 첫 배포까지 하니 뿌듯했다. 진짜 일하는 것처럼 예기치 못한 일이 생겨서(CORS 설정을 안하고 배포하고, 서버가 갑자기 다운되는 등) 급하게 달리는 차안에서 해결한 것도 나름 재밌었다. 공부할게 쌓여가는게 부담도 되지만 한편으론 안심도 됐다. 예전에 혼자 공부할 때는 오히려 뭘 공부해야될지 몰라서 익숙한 것들만 했는데 프로젝트하면서 자연스레 새롭게 접할 것이 생겨서 좋은 것 같다.

### 😊Liked
- 커스텀한 @AuthenticationPrincipal를 만들때 SPEL 오류가 뜨는 문제가 있었다. SecurityContext에 Authentication 저장하고 꺼내는 것에는 문제가 없었는데 Principal의 타입이 안맞아서 생기는 문제였다. anonymousUser가 아니라면 User 객체를 반환해야하는데 자꾸 String타입에 맞는 클라스가 없다길래 뭔 개소리인가 싶었는데 알고보니 Authentication을 저장할때 Principal에 User 객체를 저장해야하는데 email을 저장한 것이었다. 직접적으로 오류가 생기는 부분부터 타고타고 올라오다보니 UsernameAuthentication에서 email을 꺼내고 그게 쭉 내려가서 문제의 그 String타입이 되었다. 그래서 저장하는 부분에 UserDetails.getId() 대신 UserDetails.getUser()을 넣으니 해결되었다. 검색을 어떻게 해야될지도 모르겠고 사실 구현도 거의 민수님꺼보고 베낀거라 두려웠지만 나름 원만히 해결되서 다행이었다.

### 😓Lacked
- 요즘 느낀건데 구현속도가 너무 느린 것 같다. 확실히 알고 이해하고 구현하는게 좋다고 생각해서 그래왔는데 그러기엔 쉬운 것에도 구현이 너무 더딘 것 같아서 이제는 일단 실행되도록만 구현해보고 나중에 이해하는 식으로도 한번 해봐야겠다.

### 🚀Longed for
- 지금 프로젝트에서 하는 것들은 회원이나 게시판 기능 등 기본적인 기능들이다. 이것들을 확실히 익혀서 기초를 잘 다져두고 후에 차별점이 될 기술들을 적용할 날이 왔으면 좋겠다.

</details>
<br />
<details>
	<summary>3주차: 230508 ~ 230514</summary>

### 📖Learned
그래도 시간을 들이니 구현이 된게 다행이었다. SNS 로그인 API를 추가했는데 처음부터 고민이 많았다. 기존 로그인을 유지하면서 개발할지, 리다이렉트를 할지 에러코드를 보낼지, 그리고 그때 당시에는 formlogin()을 쓰고 있었는데 커스텀으로 loginfilter를 만들지, 스프링 시큐리티에 있는 oauth2 기능을 쓸지 등등... 각자 어떻게 하는지도 제대로 모르는 상태인데 이걸 어우러지게 개발해야된다는 압박감이 있었다. 계획 세우고 하루에 하나씩 공부해서 마지막 날에 합쳐야지 하는 성격도 아니라 무작정 당장 막히는 것부터 공부하고 구현하고 다음거 넘어가고 중간에 다른 곳에서 막히면 거기 공부하고 구현하다 다시오고 그렇게 했다. 시간은 많이 걸렸지만 결과적으론 얻은 지식들로 여러 방식을 생각하고, 그 중에서 우리 프로젝트에 어울릴 만한 방식을 채택할 수 있었다. 하지만 다시는 하고싶지않다 .. 다음에는 조금은 더 체계적으로 공부해야지

### 😊Liked
UserDetailsService에서 에러가 나오면 어떤 식으로든 Spring Security에서 에러를 처리한다는 사실을 알게됐다. 이 단계에서 많이 쓰이는 UsernameNotFound든 뭐든 모든 에러의 가장 상위 오브젝트인 Exception을 시큐리티에서 던지고 던져서 AbstractAuthenticationProcessingFilter에서 처리를 했고 난 그 사실을 디버거를 100번은 넘겨서 찾은 것 같다. 큰 틀에서 UsernamepasswordAuthenticationFilter -> AuthenticationProvider -> ProviderManager -> UserDetailsService로 넘어가는 것은 알았지만 중간에 그렇게 많은 필터와 과정들이 있는지 몰랐다,, 그래도 한번 이런 과정을 겪었으니 프레임워크에서 문제가 있는 것 같으면 해결하는 과정이 조금은 익숙해 질것 같다.

### 😓Lacked
참고한 것에 대해 간략한 메모정도는 필요할 것 같다. 한번 보고 이해가 될리가 없는데 한번보고 다른거 참고하다 다시 돌아가서 보고 다른거 구현할때 필요해서 이틀전에 검색했던거 다시 찾아보고 그렇게 하는건 확실히 시간낭비인 것 같다. 블로그들마다 비슷한듯 다르게 구현을 해서 그 차이점들을 확실히 알고 정리해두면 두세번 찾아볼 일 없이 구현속도가 빨라질 것 같다.

### 🚀Longed for
이 과정이 익숙해지고 테스트 코드를 만지는데 익숙했으면 좋겠다. 지금도 구현하는데 바빠서 포스트맨으로만 테스트하고 테스트 코드는 사실상 버렸는데 포스트맨이 테스트하는데 시간이 좀 걸리기도하고 포스트맨으로 테스트하고 테스트 코드 작성하는 건 순서에 안맞는듯 보여서 테스트 코드를 잘 활용하고 싶다.

</details>